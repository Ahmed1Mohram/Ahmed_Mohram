# تحديث واجهة إدارة الاشتراكات

## التغييرات التي تم إجراؤها:

### 1. تحسين واجهة إدارة الاشتراكات
- تحويل قائمة الإجراءات المنسدلة (ثلاث نقاط) إلى أزرار مباشرة
- إضافة تلميحات نصية عند تحويم المؤشر على الأزرار
- تنظيم الأزرار بشكل مرئي جذاب وسهل الاستخدام
- تصميم متجاوب يعمل على مختلف أحجام الشاشات

### 2. إضافة خاصية الموافقة على الاشتراك للوصول إلى المنصة
- إضافة زر "الموافقة والتفعيل" لتمكين المستخدم من دخول المنصة ومشاهدة المحاضرات
- إضافة رسالة تأكيد قبل تفعيل الاشتراك للتحقق من رغبة المدير
- تحسين رسائل النجاح لتوضيح الإجراء الذي تم تنفيذه
- تحديث حقول المستخدم بشكل شامل (role و status و subscription_status)

### 3. تحسين API المستخدم
- تعديل API الخاص بالاشتراكات لاستيعاب خاصية السماح بدخول المنصة
- إضافة معلمة `allowPlatformAccess` للتحكم في صلاحيات المستخدم
- تحسين معالجة الأخطاء والاستجابات للواجهة الأمامية
- توثيق التغييرات في الكود لسهولة الصيانة المستقبلية

## كيفية استخدام الواجهة الجديدة:

### 1. الاطلاع على قائمة الاشتراكات
- جميع الاشتراكات معروضة في جدول مع حالاتها
- يمكن تصفية الاشتراكات حسب الحالة (نشط، معلق، منتهي)

### 2. إجراء العمليات على الاشتراكات
- **تعديل المدة**: استخدم زر الساعة لتعديل مدة الاشتراك بالإضافة أو الإنقاص
- **عرض الإيصال**: عند وجود إيصال دفع، يمكن عرضه بالضغط على زر الصورة
- **الموافقة والتفعيل**: لتمكين المستخدم من دخول المنصة ومشاهدة المحاضرات
- **إنهاء الاشتراك**: لإنهاء اشتراك المستخدم ومنعه من الوصول إلى المحتوى

### 3. ملاحظات هامة
- عند الموافقة على اشتراك، سيتم تعيين دور المستخدم كـ "student" وحالته كـ "approved"
- سيتمكن المستخدم فورًا من الدخول إلى المنصة ومشاهدة المحاضرات بعد الموافقة
- يظهر تأكيد قبل أي إجراء مهم للتحقق من رغبة المدير

## مخطط تدفق الموافقة على الاشتراك:

1. المستخدم يقوم بالدفع وإرسال طلب اشتراك (حالة الاشتراك: pending)
2. المدير يراجع الطلب ويضغط على زر "الموافقة والتفعيل"
3. يظهر مربع حوار تأكيد للمدير
4. عند الموافقة:
   - يتم تحديث حالة الاشتراك إلى "active"
   - يتم تعيين دور المستخدم إلى "student"
   - يتم تعيين حالة المستخدم إلى "approved"
5. يتمكن المستخدم الآن من الدخول إلى المنصة ومشاهدة المحاضرات
